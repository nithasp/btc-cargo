<section *ngIf="!isLoading" class="exchange-container">
  <div *ngIf="verificationState === 'verified'">
    <div class="top-section">
      <div class="left-panel">
        <h2 class="text-center">ประกาศ</h2>
        <div class="left-panel-details">
          <div [innerHTML]="annoucementHtml"></div>
        </div>
      </div>
      <div class="right-panel">
        <img
          class="logo"
          src="../../../../../assets/img/logo/GET_TA_YUAN_LOGO.jpeg"
        />
        <table class="table align-items-center table-flush mt-4">
          <tbody>
            <tr class="rate-table-row">
              <td colspan="2">อัตราแลกเปลี่ยน ประจำวันที่ 22-02-2022</td>
            </tr>
            <tr class="rate-table-row">
              <td class="w-50">บาท > หยวน</td>
              <td class="w-50">หยวน > บาท</td>
            </tr>
            <tr class="rate-table-row">
              <td class="w-50">{{ getExchangeRate() }}</td>
              <td class="w-50">กรุณาสอบถามทางไลน์ @btccargo</td>
            </tr>
          </tbody>
        </table>
        <h4>เงื่อนไขบริการ</h4>
        <div [innerHTML]="serviceConditionHtml"></div>
      </div>
    </div>
    <all-exchange *ngIf="currentState === 'all'"></all-exchange>
    <create-new-exchange *ngIf="currentState === 'new'"></create-new-exchange>
    <payment-summary *ngIf="currentState === 'summary'"></payment-summary>
  </div>
  <div class="btc-modal flex-center" *ngIf="verificationState === 'unverified'">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-body text-center align-self-center mb-4">
          <h1 class="mb-3 mt-3">กรุณายืนยันตัวตนก่อนใช้บริการ</h1>
          <div class="d-flex row justify-content-center mb-3">
            <h1>สถานะ</h1>
            <h1 class="text-danger ml-2">ยังไม่ได้ยืนยันตัวตน</h1>
          </div>
          <h2 class="mb-3">อัพโหลดรูปถ่ายหน้าตรงคู่กับบัตรประชาชน</h2>
          <h2 class="text-danger mb-3">
            (ให้เห็นหน้าคู่กับบัตรประชาชนอย่างชัดเจน)
          </h2>
          <div class="align-self-center mt-4 mb-4">
            <input
              type="file"
              (change)="handleFileInput($event.target.files)"
            />
          </div>
          <div class="d-flex flex-column">
            <button
              type="button"
              class="btn btn-primary submit-file-button mb-4"
              (click)="uploadValidationFile()"
              [disabled]="!uploadedFile"
            >
              <h2 class="text-white">ยืนยันตัวตน</h2>
            </button>
            <button
              type="button"
              class="btn btn-danger"
              [routerLink]="['/web/warehouse-address']"
            >
              <h2 class="text-white">กลับไปที่หน้าภาพรวมบัญชี</h2>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div
    class="btc-modal flex-center"
    *ngIf="verificationState === 'waiting' || verificationState === 'reviewing'"
  >
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-body text-center align-self-center">
          <h1 class="mb-3 mt-3">กรุณายืนยันตัวตนก่อนใช้บริการ</h1>
          <div class="d-flex row justify-content-center mb-5">
            <h1>สถานะ</h1>
            <h1 class="text-warning ml-2">อยู่ระหว่างการตรวจสอบ</h1>
          </div>
          <p class="mt-5">กรุณารอเจ้าหน้าที่ทำการตรวจสอบข้อมูลการยืนยันตัว</p>

          <p>ท่านจะได้รับการแจ้งเตือนในระบบเมื่อเจ้าหน้าที่</p>
          <p>ทำการตรวจสอบข้อมูลแล้ว</p>
        </div>
        <div class="modal-footer justify-content-center mb-3">
          <button
            type="button"
            class="btn btn-danger"
            [routerLink]="['/web/warehouse-address']"
          >
            <h2 class="text-white">กลับไปที่หน้าภาพรวมบัญชี</h2>
          </button>
        </div>
      </div>
    </div>
  </div>
</section>
